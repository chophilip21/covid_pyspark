<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>{{ title }}</title>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.min.js'></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
</head>

<body>
  <center>
    <h1>{{ title }}</h1>
  </center>
  <center>
    

    <canvas id="chart" width="1000" height="800"></canvas>
    <script>

      var getData = $.get('/');

      getData.done(function(results){
       // bar chart data
        var barData = {
          labels : [
            {% for item in labels %}
            "{{ item }}",
            {% endfor %}
        ],

          datasets : [{
            fillColor: "rgba(151,187,205,0.2)",
            strokeColor: "rgba(151,187,205,1)",
            pointColor: "rgba(151,187,205,1)",
            data : [
              {% for item in results %}
                "{{ item }}",
                {% endfor %}
        ]
            }
          ]
        }

        // get bar chart canvas
        var mychart = document.getElementById("chart").getContext("2d");

          steps = 10
          max = {{max}}

        // draw bar chart
        new Chart(mychart).Bar(barData, {
          scaleOverride: true,
          scaleSteps: steps,
          scaleStepWidth: Math.ceil(max / steps),
          scaleStartValue: 0,
          scaleShowVerticalLines: true,
          scaleShowGridLines : true,
          barShowStroke : true,
          scaleShowLabels: true
          }
      );


      });

     
     
    </script>
  
  <script>
  
  active_cases = {action: "active_cases"}
  active_cases = JSON.stringify(active_cases)
  $(document).ready(function(){
    $("#active_cases.button.button2").click(function(){
      console.log("Requested to POST")
      $.ajax({
        url: '/',
        data:active_cases,
        contentType:'application/json',
        type:'POST',
        success: function(response){
          console.log('posting success');
        },
        error: function(error){
          console.log(error);
        }
      });
    });
  });

  cumulative_cases = {action: "cumulative_cases"}
  cumulative_cases = JSON.stringify(cumulative_cases)
  $(document).ready(function(){
    $("#cumulative_cases.button.button2").click(function(){
      console.log("Requested to POST")
      $.ajax({
        url: '/',
        data:cumulative_cases,
        contentType:'application/json',
        type:'POST',
        success: function(response){
          console.log('posting success');
        },
        error: function(error){
          console.log(error);
        }
      });
    });
  });

  cumulative_tested = {action: "cumulative_tested"}
  cumulative_tested = JSON.stringify(cumulative_tested)
  $(document).ready(function(){
    $("#cumulative_tested.button.button2").click(function(){
      console.log("Requested to POST")
      $.ajax({
        url: '/',
        data:cumulative_tested,
        contentType:'application/json',
        type:'POST',
        success: function(response){
          console.log('posting success');
        },
        error: function(error){
          console.log(error);
        }
      });
    });
  });

  cumulative_deaths = {action: "cumulative_deaths"}
  cumulative_deaths = JSON.stringify(cumulative_deaths)
  $(document).ready(function(){
    $("#cumulative_deaths.button.button2").click(function(){
      console.log("Requested to POST")
      $.ajax({
        url: '/',
        data:cumulative_deaths,
        contentType:'application/json',
        type:'POST',
        success: function(response){
          console.log('posting success');
        },
        error: function(error){
          console.log(error);
        }
      });
    });
  });

  vaccine_administration = {action: "vaccine_administration"}
  vaccine_administration = JSON.stringify(vaccine_administration)
  $(document).ready(function(){
    $("#vaccine_administration.button.button2").click(function(){
      console.log("Requested to POST")
      $.ajax({
        url: '/',
        data:vaccine_administration,
        contentType:'application/json',
        type:'POST',
        success: function(response){
          console.log('posting success');
        },
        error: function(error){
          console.log(error);
        }
      });
    });
  });

  cumulative_recovered = {action: "cumulative_recovered"}
  cumulative_recovered = JSON.stringify(cumulative_recovered)
  $(document).ready(function(){
    $("#cumulative_recovered.button.button2").click(function(){
      console.log("Requested to POST")
      $.ajax({
        url: '/',
        data:cumulative_recovered,
        contentType:'application/json',
        type:'POST',
        success: function(response){
          console.log('posting success');
        },
        error: function(error){
          console.log(error);
        }
      });
    });
  });

  </script>

<style>
   .button {
  background-color: #4CAF50; /* Green */
  border: none;
  color: white;
  padding: 16px 32px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
  margin: 4px 2px;
  transition-duration: 0.4s;
  cursor: pointer;
}

.button1 {
  background-color: white; 
  color: black; 
  border: 2px solid #4CAF50;
}

.button1:hover {
  background-color: #4CAF50;
  color: white;
}

.button2 {
  background-color: white; 
  color: black; 
  border: 2px solid #008CBA;
}

.button2:hover {
  background-color: #008CBA;
  color: white;
}

.button3 {
  background-color: white; 
  color: black; 
  border: 2px solid #f44336;
}

.button3:hover {
  background-color: #f44336;
  color: white;
}

.button4 {
  background-color: white;
  color: black;
  border: 2px solid #e7e7e7;
}

.button4:hover {background-color: #e7e7e7;}

.button5 {
  background-color: white;
  color: black;
  border: 2px solid #555555;
}

.button5:hover {
  background-color: #555555;
  color: white;
}
    </style>

  </center>
  <center>
    <div id="btn-group">
    <button id="active_cases" class="button button2">Active cases</button>
    <button id="cumulative_cases" class="button button2">Cumulative cases</button>
    <button id="cumulative_tested" class="button button2">Cumulative tested</button>
    <button id= "cumulative_deaths" class="button button2">Cumulative deaths</button>
    <button id="vaccine_administration" class="button button2">Vaccine administration</button>
    <button id="cumulative_recovered" class="button button2">Cumulative recovered</button>
  </div>


  </center>
  
</body>
</html>